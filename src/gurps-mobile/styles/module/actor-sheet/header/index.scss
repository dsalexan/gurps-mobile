/* stylelint-disable no-descending-specificity */
& > .header {
  --portrait-size: 38vw; //calc(var(--spacing) * 16);

  padding: var(--spacing);
  display: flex;
  flex-direction: row;

  & > .wrapper {
    &.portrait {
      --border-size: 3px;

      grid-area: portrait;
      z-index: 2;
      position: relative;
      //
      border-radius: var(--spacing);
      height: var(--portrait-size);
      width: var(--portrait-size);
      max-width: calc(var(--spacing) * 22);
      max-height: calc(var(--spacing) * 22);
      //
      border: var(--border-size) solid #eee;
      background: #eee;
    }

    &.left {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      margin-left: calc(-1 * var(--spacing));
    }

    // sections
    & > .portrait {
      z-index: 2;
      position: relative;
      overflow: hidden;
      //
      border-radius: 8px;
      width: 100%;
      height: 100%;

      & > .img-display {
        /* width: 100%;
        height: 100%; */

        & > img {
          width: 100%;
          object-fit: cover;
        }
      }
    }

    & > .portrait-overlay {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 2;
      width: 100%;
      height: 100%;
      //
      padding: var(--spacing);
      //
      display: flex;
      flex-direction: column;
      justify-content: space-between;

      & > .icons {
        display: flex;
        flex-direction: row;
        justify-content: space-between;

        & > .icon {
          color: #fff;
          text-shadow: 0 0 4px rgb(255 255 255 / 40%);
        }
      }

      & > .name {
        font-family: "Bebas Neue";
        color: #eee;
        text-shadow: 0 0 8px rgb(0 0 0);
        //
        display: inline-block;
        font-size: 24px;
        line-height: 20px;
        text-align: left;
      }
    }

    & > .header-bar {
      grid-area: header-bar;
      z-index: 1;
      //
      background-color: #333;
      box-shadow: 0 0 5px 0 rgb(0 0 0 / 15%);
      border-radius: 0 var(--spacing) var(--spacing) 0;
      padding: var(--spacing);
      line-height: 12px;
      //
      display: flex;
      flex-direction: row;
      justify-content: flex-end;
      flex-shrink: 1;

      & > .icon {
        cursor: pointer;
        color: #fff;
        text-shadow: 0 0 4px rgb(255 255 255 / 40%);
        margin-left: var(--spacing);
      }

      & > .spacer {
        flex-grow: 1;
      }
    }

    & > .pools {
      grid-area: pools;
      z-index: 1;
      //
      display: flex;
      flex-direction: row;
      justify-content: flex-start;
      //
      padding: var(--spacing) 0;
      margin-left: var(--spacing);
    }

    & > .pools > .resource-pools {
      position: relative;
      flex-grow: 1;

      & > .resource-pool {
        position: relative;
        margin-bottom: calc(var(--spacing) - 3px);

        &:last-of-type {
          margin-bottom: 0;
        }

        & > div {
          border-radius: 0 6px 6px 0;
          padding: 5px 0;
          padding-right: 6px;
          text-align: right;
          color: #eee;
          font-family: Roboto;
          font-style: normal;
          font-weight: 700;
          font-size: 12px;
          line-height: 9px;
        }

        .current-value {
          box-shadow: 0 0 2px 0 rgb(var(--color-main));
          background-color: rgb(var(--color-main));
          border: 2px solid rgb(var(--color-main));
          position: absolute;
        }

        .full {
          background-color: rgb(var(--color-dark));
          border: 2px solid rgb(var(--color-darker));
          color: rgb(var(--color-darker));
        }
      }

      // colors
      & > .resource-pool.hp {
        --color-main: 160, 38, 38;
        --color-dark: 94, 49, 49;
        --color-darker: 63, 25, 25;
      }

      & > .resource-pool.fp {
        --color-main: 39, 98, 130;
        --color-dark: 36, 62, 76;
        --color-darker: 33, 44, 50;
      }
    }

    & > .pools > .extra {
      margin-left: var(--spacing);
      display: flex;
      //
      flex-direction: row;
      flex-grow: 0;
      flex-shrink: 1;

      & > .interactible {
        border-radius: 6px;
        background-color: #eee;
        padding: var(--spacing);
        justify-content: space-between;
        flex-grow: 0;
        flex-shrink: 1;
        //
        margin-left: calc(var(--spacing) - 3px);

        &:first-of-type {
          margin-left: 0;
        }

        & > .label {
          font-size: 10px;
          line-height: 7px;
        }

        & > .value {
          font-size: 12px;
          line-height: 7px;
          // margin-bottom: 9px;
          color: #222;

          & > svg.icon {
            width: 24px;
            color: #222;
          }

          & > b {
            line-height: 24px;
          }
        }
      }
    }

    & > .primary-attributes {
      grid-area: attributes;
      //
      background: #eee;
      border-radius: 0 var(--spacing) var(--spacing) 0;
      padding-left: 9px;
      //
      display: flex;
      flex-direction: row;
      justify-content: flex-end;
      align-items: center;
      flex-grow: 1;

      & > .attribute {
        flex-grow: 1;

        & > .interactible {
          & > .value {
            color: #111;
            font-family: Alatsi, sans-serif;
            font-weight: 400;
            font-size: 26px;
            line-height: 19px;
          }

          & > .label {
            color: #333;
            font-size: 10px;
            font-family: Roboto;
            font-weight: 600;
            opacity: 0.6;
            line-height: 7px;
            margin-top: 4px;
          }
        }
      }
    }
  }
}
